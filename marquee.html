<body id='body'>

</body>

<script>
const addMarquees = films => {
  const content = films.sort((a, b) => {
    return a.release_date.localeCompare(b.release_date)
  }).map(f => {
    const { episode_id, opening_crawl, title } = f
    return `
    <marquee behavior="scroll" direction="up" height="200" width="400" scrollamount="2" scrolldelay="10">
      EPISODE ${episode_id}, ${title} <br /> ${opening_crawl}
    </marquee>
    `
  })
  document.getElementById('body').innerHTML = content.join('\n')
}

fetch('https://swapi.co/api/films/').then(r => {
  if (!r.ok) return
  r.json().then(json => {
    addMarquees(json.results)
  })
})
</script>
